package com.maiello1.week_4;
import java.util.*;

public class Main {

  static Map<String, Integer[]> getInput() {
       Map<String, Integer[]> cityTempMap = new HashMap<>();
       List<String> cities = new ArrayList<>();
       Scanner scan = new Scanner(System.in);
       System.out.println("Enter a city or END to stop.");
       String city = scan.nextLine();

       while(!city.equals("END")) {
           cities.add(city);
           System.out.println("Enter a city or END to stop.");
           city = scan.nextLine();
       }
       for (String cityName : cities){
           System.out.println("Enter the average temperature for each of the next 5 days for " + cityName + "(space once between each temperature)");
           String temperatures = scan.nextLine();
           String[] fiveTemps = temperatures.split(" ");
           Integer [] fiveInts = new Integer[5];

           //convert Strings to integers
           for (int i=0; i<fiveTemps.length; i++){
               fiveInts[i] = Integer.parseInt(fiveTemps[i]);
           }
cityTempMap.put(cityName, fiveInts);

       }
       return cityTempMap;
   }
  
   static Map<String, Double> calculateAverages(Map<String, Integer[]> temperatures) {
       Map<String, Double> averageMap = new HashMap<>();
       for(String city : temperatures.keySet()){
           Integer[] cityTemperatures = temperatures.get(city);
          
           //calculate average
           Double average = new Double(0);
           for (Integer temp : cityTemperatures){
               average += temp;
           }
           average /= 5;     
          
           averageMap.put(city, average);
       }
       return averageMap;
   }
  
   static void displayAverages(Map<String, Double> averageMap){
       for(String city : averageMap.keySet()){
           System.out.println(city + ": " + averageMap.get(city));
       }
   }

   public static void main (String args) {
 Map<String, Integer[]> temperatures = getInput();
Map<String, Double> averages = calculateAverages(temperatures);
       displayAverages(averages);
}
   }
